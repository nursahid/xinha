function UnFormat(c){this.editor=c;var a=c.config;var b=this;a.registerButton({id:"unformat",tooltip:this._lc("Page Cleaner"),image:c.imgURL("unformat.gif","UnFormat"),textMode:false,action:function(d){b.buttonPress(d)}});a.addToolbarElement("unformat","killword",1)}UnFormat._pluginInfo={name:"UnFormat",version:"1.0",license:"htmlArea"};UnFormat.prototype._lc=function(a){return Xinha._lc(a,"UnFormat")};UnFormat.prototype.buttonPress=function(a){a._popupDialog("plugin://UnFormat/unformat",function(c){if(c){if(c.cleaning_area=="all"){var b=a._doc.body.innerHTML}else{var b=a.getSelectedHTML()}if(c.html_all==true){b=b.replace(/<[\!]*?[^<>]*?>/g,"")}if(c.formatting==true){b=b.replace(/style="[^"]*"/gi,"");b=b.replace(/<\/?font[^>]*>/gi,"");b=b.replace(/<\/?b>/gi,"");b=b.replace(/<\/?strong[^>]*>/gi,"");b=b.replace(/<\/?i>/gi,"");b=b.replace(/<\/?em[^>]*>/gi,"");b=b.replace(/<\/?u[^>]*>/gi,"");b=b.replace(/<\/?strike[^>]*>/gi,"");b=b.replace(/ align=[^\s|>]*/gi,"");b=b.replace(/ class=[^\s|>]*/gi,"")}if(c.cleaning_area=="all"){a._doc.body.innerHTML=b}else{a.insertHTML(b)}}else{return false}},null)};