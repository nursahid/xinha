function InsertSmiley(c){this.editor=c;var a=c.config;var b=this;a.registerButton({id:"insertsmiley",tooltip:this._lc("Insert Smiley"),image:c.imgURL("ed_smiley.gif","InsertSmiley"),textMode:false,action:function(d){b.buttonPress(d)}});a.addToolbarElement("insertsmiley","inserthorizontalrule",1)}InsertSmiley._pluginInfo={name:"InsertSmiley",version:"1.0",developer:"Ki Master George",developer_url:"http://kimastergeorge.i4host.com/",c_owner:"Ki Master George",sponsor:"Ki Master George",sponsor_url:"http://kimastergeorge.i4host.com/",license:"htmlArea"};InsertSmiley.prototype._lc=function(a){return Xinha._lc(a,"InsertSmiley")};Xinha.Config.prototype.InsertSmiley={smileyURL:"http://www.x-webservice.net/storage/xinha/plugins/InsertSmiley/"};InsertSmiley.prototype.buttonPress=function(b){var a=this;var c=b.getSelectedHTML().replace(/(<[^>]*>|&nbsp;|\n|\r)/g,"");var d={};d.editor=b;b._popupDialog("plugin://InsertSmiley/insertsmiley",function(e){b.insertHTML('<img src="'+b.config.InsertSmiley.smileyURL+e.smileyfile+'" alt="Smiley" />')},d)};