function SetId(c){this.editor=c;var a=c.config;var b=this;a.registerButton({id:"setid",tooltip:this._lc("Set Id and Name"),image:c.imgURL("set-id.gif","SetId"),textMode:false,action:function(d){b.buttonPress(d)}});a.addToolbarElement("setid","createlink",1)}SetId._pluginInfo={name:"SetId",version:"2.0",developer:"Udo Schmal",developer_url:"http://www.schaffrath-neuemedien.de",c_owner:"Udo Schmal",sponsor:"L.N.Schaffrath NeueMedien",sponsor_url:"http://www.schaffrath-neuemedien.de",license:"htmlArea"};SetId.prototype._lc=function(a){return Xinha._lc(a,"SetId")};SetId.prototype.onGenerate=function(){this.editor.addEditorStylesheet(_editor_url+"plugins/SetId/set-id.css")};SetId.prototype.buttonPress=function(c){var f=null;var b=c.getSelectedHTML();var e=c._getSelection();var a=c._createRange(e);var d=c._activeElement(e);if(d){f={name:d.id}}else{f={name:""}}c._popupDialog("plugin://SetId/set_id",function(j){if(j){var g=j.name;if(g==""||g==null){if(d){d.removeAttribute("name");d.removeAttribute("id");d.removeAttribute("title");if(d.className=="hasid"){d.removeAttribute("class")}}return}try{var i=c._doc;if(!d){d=i.createElement("span");d.id=g;d.name=g;d.title=g;d.className="hasid";d.innerHTML=b;if(Xinha.is_ie){a.pasteHTML(d.outerHTML)}else{c.insertNodeAtSelection(d)}}else{d.id=g;d.name=g;d.title=g;d.className="hasid"}}catch(h){}}},f)};