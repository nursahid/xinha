function FullScreen(b,a){this.editor=b;b._superclean_on=false;cfg=b.config;cfg.registerButton("fullscreen",this._lc("Maximize/Minimize Editor"),[_editor_url+cfg.imgURL+"ed_buttons_main.gif",8,0],true,function(d,f,c){d._fullScreen()});cfg.addToolbarElement("fullscreen","popupeditor",0)}FullScreen._pluginInfo={name:"FullScreen",version:"1.0",developer:"James Sleeman",developer_url:"http://www.gogo.co.nz/",c_owner:"Gogo Internet Services",license:"htmlArea",sponsor:"Gogo Internet Services",sponsor_url:"http://www.gogo.co.nz/"};FullScreen.prototype._lc=function(a){return Xinha._lc(a,{url:_editor_url+"modules/FullScreen/lang/",context:"FullScreen"})};Xinha.prototype._fullScreen=function(){var f=this;function h(){if(!f._isFullScreen||f._sizing){return false}f._sizing=true;var m=Xinha.viewportSize();var i=m.y-f.config.fullScreenMargins[0]-f.config.fullScreenMargins[2];var e=m.x-f.config.fullScreenMargins[1]-f.config.fullScreenMargins[3];f.sizeEditor(e+"px",i+"px",true,true);f._sizing=false;if(f._toolbarObjects.fullscreen){f._toolbarObjects.fullscreen.swapImage([_editor_url+cfg.imgURL+"ed_buttons_main.gif",9,0])}}function k(){if(f._isFullScreen||f._sizing){return false}f._sizing=true;f.initSize();f._sizing=false;if(f._toolbarObjects.fullscreen){f._toolbarObjects.fullscreen.swapImage([_editor_url+cfg.imgURL+"ed_buttons_main.gif",8,0])}}function a(){if(f._isFullScreen){window.scroll(0,0);window.setTimeout(a,150)}}if(typeof this._isFullScreen=="undefined"){this._isFullScreen=false;if(f.target!=f._iframe){Xinha._addEvent(window,"resize",h)}}if(Xinha.is_gecko){this.deactivateEditor()}if(this._isFullScreen){this._htmlArea.style.position="";if(!Xinha.is_ie){this._htmlArea.style.border=""}try{if(Xinha.is_ie&&document.compatMode=="CSS1Compat"){var b=document.getElementsByTagName("html")}else{var b=document.getElementsByTagName("body")}b[0].style.overflow=""}catch(f){}this._isFullScreen=false;k();var d=this._htmlArea;while((d=d.parentNode)&&d.style){d.style.position=d._xinha_fullScreenOldPosition;d._xinha_fullScreenOldPosition=null}if(Xinha.ie_version<7){var g=document.getElementsByTagName("select");for(var c=0;c<g.length;++c){g[c].style.visibility="visible"}}window.scroll(this._unScroll.x,this._unScroll.y)}else{this._unScroll={x:(window.pageXOffset)?(window.pageXOffset):(document.documentElement)?document.documentElement.scrollLeft:document.body.scrollLeft,y:(window.pageYOffset)?(window.pageYOffset):(document.documentElement)?document.documentElement.scrollTop:document.body.scrollTop};var d=this._htmlArea;while((d=d.parentNode)&&d.style){d._xinha_fullScreenOldPosition=d.style.position;d.style.position="static"}if(Xinha.ie_version<7){var g=document.getElementsByTagName("select");var l,j;for(var c=0;c<g.length;++c){l=g[c];j=false;while(l=l.parentNode){if(l==this._htmlArea){j=true;break}}if(!j&&g[c].style.visibility!="hidden"){g[c].style.visibility="hidden"}}}window.scroll(0,0);this._htmlArea.style.position="absolute";this._htmlArea.style.zIndex=999;this._htmlArea.style.left=f.config.fullScreenMargins[3]+"px";this._htmlArea.style.top=f.config.fullScreenMargins[0]+"px";if(!Xinha.is_ie&&!Xinha.is_webkit){this._htmlArea.style.border="none"}this._isFullScreen=true;a();try{if(Xinha.is_ie&&document.compatMode=="CSS1Compat"){var b=document.getElementsByTagName("html")}else{var b=document.getElementsByTagName("body")}b[0].style.overflow="hidden"}catch(f){}h()}if(Xinha.is_gecko){this.activateEditor()}this.focusEditor()};